<template>
	<div class="punch-page-wrapper dark:bg-slate-700 bg-white rounded-[24px] p-3 xl:p-6">
		<div class="w-full flex gap-2">
			<div class="grow page-data">
				<PageHeading text="Introduction" addOnClass="text-left" markedAs="intro" />
				<p class="text-slate-900 dark:text-white mt-5">
					á» bÃ i nÃ y chÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» Routers trong NextJs
					<br />
					Next.js sá»­ dá»¥ng há»‡ thá»‘ng file Ä‘á»ƒ Ä‘á»‹nh nghÄ©a Routers, cÃ³ nghÄ©a lÃ  thay vÃ¬ pháº£i config nhÆ°
					<b>react-router-dom</b>
					thÃ¬ chÃºng ta chá»‰ cáº§n táº¡o file táº¡o Ä‘Ãºng vá»‹ trÃ­ vÃ  namespace Ä‘Æ°á»£c quy Æ°á»›c thÃ¬ NextJs sáº½ tá»± Ä‘á»™ng render route Ä‘Ã³
					cho chÃºng ta.
					<br />
				</p>
				<PageHeading text="Táº¡o routes" addOnClass="text-left mt-5" markedAs="create-routes" :lvl="2" />
				<p class="text-slate-900 dark:text-white mt-5">
					BÆ°á»›c Ä‘áº§u tiÃªn, chÃºng ta sáº½ há»c cÃ¡ch táº¡o ra cÃ¡c routes há»£p lá»‡ trong project cá»§a chÃºng ta.
					<br />
					TrÆ°á»›c háº¿t tÃ´i sáº½ "mÆ°á»£n" hÃ¬nh áº£nh Ä‘á»ƒ mÃ´ hÃ¬nh hoÃ¡ cáº¥u trÃºc routes trong NextJs.
				</p>
				<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
					<div class="rounded py-1 col-span-1">
						<img
							src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fdefining-routes.png&w=1920&q=75"
							alt=""
							class="w-fit rounded"
						/>
					</div>
					<div class="rounded py-1 col-span-1">
						<img
							src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Froute-segments-to-path-segments.png&w=1920&q=75"
							alt=""
							class="w-fit rounded"
						/>
					</div>
				</div>
				<p class="text-slate-900 dark:text-white mt-5">
					á» vÃ­ dá»¥ trÃªn ta cÃ³ thá»ƒ tháº¥y trong folder
					<FilePath>app</FilePath>
					ta táº¡o nhá»¯ng thÆ° má»¥c con nhÆ°:
					<span class="inline-block px-1 rounded bg-neutral-200 dark:bg-neutral-200 text-slate-900"
						>dashboard | settings</span
					>
					má»—i thÆ° má»¥c nÃ y Ä‘áº¡i diá»‡n cho má»™t path, Ä‘á»ƒ táº¡o view cho path nÃ y thÃ¬ ta cáº§n táº¡o ra file
					<FilePath>page.tsx</FilePath> náº±m trong má»—i thÆ° má»¥c nÃ³i trÃªn.
				</p>
				<PageHeading text="Táº¡o UI" addOnClass="text-left mt-5" markedAs="create-route-ui" :lvl="2" />
				<p class="text-slate-900 dark:text-white mt-5">
					ÄÃ£ cÃ³ path cho routes, tiáº¿p theo chÃºng ta sáº½ Ä‘á»‹nh nghÄ©a UI cho cÃ¡c route nÃ y.
					<br />
					CÃ¡c báº¡n cáº§n lÆ°u Ã½ lÃ  chá»‰ nhá»¯ng components cÃ³ tÃªn file lÃ 
					<FilePath>page.tsx</FilePath> má»›i Ä‘Æ°á»£c public ra ngoÃ i UI cá»§a page nhÃ©.
					<br />
					á» Ä‘Ã¢y tÃ´i sáº½ táº¡o path lÃ  <FilePath>/dashboard</FilePath> vá»›i UI render ra message
					<b>Hello, Dashboard Work</b>
				</p>
				<div class="py-3"></div>
				<VCodeBlock
					:code="` // ~/app/dashboard/page.tsx
export default function Page() {
  return <h1>Hello, Dashboard Work!</h1>
}`"
					highlightjs
					lang="tsx"
					theme="tomorrow-night-bright"
				/>
				<p class="text-slate-900 dark:text-white mt-5">Wala, page UI cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c hiá»ƒn thá»‹. ğŸ‘ŒğŸ‘Œ</p>

				<PageHeading text="Layouts, Template" addOnClass="text-left mt-5" markedAs="nextjs-layout-template" />

				<p class="text-slate-900 dark:text-white mt-5">
					Tiáº¿p theo, chÃºng ta cÃ¹ng tÃ¬m hiá»ƒu vá» <b>`Layout` vÃ  `Template`</b>
					trong NextJs.
					<br />
					<b>`Layout`</b> lÃ  má»™t giao diá»‡n cÃ³ thá»ƒ share giá»¯a nhiá»u routes vá»›i nhau, nhÆ°ng chÃºng ta cáº§n lÆ°u Ã½ ráº±ng khi
					chuyá»ƒn giá»¯a cÃ¡c route layout thÃ¬ chÃºng sáº½ duy trÃ¬ state chung cá»§a app vÃ  sáº½ KHÃ”NG re-render. NgoÃ i ra chÃºng ta
					cÅ©ng cÃ³ thá»ƒ táº¡o ra cÃ¡c Nested route trong NextJs, viá»‡c nested/sharing cÃ¡c layout phá»¥ thuá»™c vÃ o nÆ¡i báº¡n Ä‘áº·t
					chÃºng trong dá»± Ã¡n.
					<br />
					<br />
					VÃ­ dá»¥, vá» viá»‡c <b>sharing layout</b>:
				</p>
				<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-5">
					<div class="col-span-1">
						<VCodeBlock
							:code="` // ~/app/dashboard/layout.tsx
export default function DashboardLayout({
  children, // page, layout component
}: {
  children: React.ReactNode
}) {
  return (
    <main>
      {/* UI shared */}
      <h1>Tui lÃ  Layout cá»§a dashboard nha</h1>
      {children}
    </main>
  )
}`"
							highlightjs
							lang="tsx"
							theme="tomorrow-night-bright"
						/>
					</div>
					<div class="rounded py-1 col-span-1">
						<img
							src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Flayout-special-file.png&w=1920&q=75"
							alt=""
							class="w-fit rounded"
						/>
					</div>
				</div>
				<PageHeading text="Root Layout" addOnClass="text-left mt-5" markedAs="nextjs-layout-root" :lvl="2" />
				<p class="text-slate-900 dark:text-white mt-5">
					Root Layout lÃ  file layout Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a ngoÃ i cÃ¹ng cá»§a folder <FilePath>app</FilePath>, layout nÃ y sáº½ cÃ³
					tÃ¡c dá»¥ng vá»›i toÃ n bá»™ cÃ¡c routes trong project. LÆ°u Ã½: Ä‘Ã¢y lÃ  file <b>báº¯t buá»™c</b> vÃ  pháº£i chá»©a cÃ¡c tháº» lÃ :
					<b>html, body.</b> Root Layout cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c pháº§n html Ä‘Æ°á»£c render ra tá»« phÃ­a Server Side.
				</p>

				<VCodeBlock
					:code="` // ~/app/layout.tsx
export default function RootLayout({
	children,
}: Readonly<{
	children: React.ReactNode;
}>) {
	return (
		<html lang='en'>
			<body className={inter.className}>
				<header>Hi, im header from root layout</header>
				{children}
			</body>
		</html>
	);
}
`"
					highlightjs
					lang="tsx"
					theme="tomorrow-night-bright"
				/>
				<PageHeading text="Nested Layout" addOnClass="text-left mt-5" markedAs="nextjs-layout-nested" :lvl="2" />
				<p class="text-slate-900 dark:text-white mt-5">
					Trong NextJs, cÃ¡c layout cÃ³ thá»ƒ lá»“ng vÃ o nhau (nested) vÃ  sáº½ tá»± Ä‘á»™ng nested dá»±a trÃªn vá»‹ trÃ­ cá»§a nÃ³ trong cáº¥u
					trÃºc thÆ° má»¥c mÃ  chÃºng ta táº¡o.
				</p>
				<div class="rounded py-1 col-span-1">
					<img
						src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fnested-layout.png&w=1920&q=75"
						alt=""
						class="w-fit rounded"
					/>
				</div>
				<p class="text-slate-900 dark:text-white mt-5">
					Vá»›i cáº¥u trÃºc nhÆ° trÃªn thÃ¬ ta sáº½ tháº¥y <FilePath>app/layout</FilePath> sáº½ chá»©a cáº£
					<FilePath>app/dashboard/layout</FilePath> => <FilePath>dashboard/page</FilePath> sáº½ Ä‘Æ°á»£c Ã¡p dá»¥ng cáº£ 2 layout.
				</p>
				<PageHeading text="Template" addOnClass="text-left mt-5" markedAs="nextjs-template" />
				<p class="text-slate-900 dark:text-white mt-5">
					Vá» cÆ¡ báº£n, <b>Template</b> cÃ³ khÃ¡ nhiá»u Ä‘iá»ƒm tÆ°Æ¡ng Ä‘á»“ng vá»›i <b>Layout</b>, nhÆ°ng cÃ³ má»™t sá»‘ Ä‘áº·c Ä‘iá»ƒm cá»§a
					<b>Template</b> mÃ  chÃºng ta cáº§n náº¯m Ä‘Æ°á»£c Ä‘á»ƒ cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh sá»­ dá»¥ng <b>Layout</b> hay <b>Template</b> trong
					bÃ i toÃ¡n cá»§a mÃ¬nh.
					<br />
					<b>Template</b> sáº½ luÃ´n khá»Ÿi táº¡o má»™t instance má»›i má»—i khi chÃºng ta navigate giá»¯a cÃ¡c route cá»§a project. NÃ³i
					cÃ¡ch khÃ¡c, má»—i khi route change thÃ¬ má»™t instance cá»§a <b>Template</b> sáº½ Ä‘Æ°á»£c mounted
					<br />

					=> <b>Template</b> KHÃ”NG cÃ³ tÃ­nh state preserve
					<br />
					=> <b>Template</b> khiáº¿n cÃ¡c DOM element Ä‘Æ°á»£c táº¡o láº¡i
					<br />
					=> <b>Template</b> khiáº¿n cÃ¡c effects sáº½ re-synchronized => cÃ¡c hooks nhÆ° useEffect() sáº½ Ä‘Æ°á»£c cháº¡y láº¡i má»—i khi
					route-change
				</p>

				<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-5">
					<div class="col-span-1">
						<VCodeBlock
							:code="` // ~/app/template.tsx
export default function Template({ children }: { children: React.ReactNode }) {
  return <div>{children}</div>
}`"
							highlightjs
							lang="tsx"
							theme="tomorrow-night-bright"
						/>
					</div>
					<div class="rounded py-1 col-span-1">
						<img
							src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Ftemplate-special-file.png&w=1920&q=75"
							alt=""
							class="w-fit rounded"
						/>
					</div>
				</div>
				<p class="text-slate-900 dark:text-white mt-5">
					Váº­y khi nÃ o ta dÃ¹ng <FilePath>template</FilePath> vÃ  khi nÃ o thÃ¬ dÃ¹ng <FilePath>layout</FilePath> ? Náº¿u trong
					shared UI cá»§a báº¡n cÃ³ component cáº§n re-render, re-synchronized má»—i khi thay Ä‘á»•i route thÃ¬ ta sáº½ Ä‘áº·t chÃºng vÃ o
					<FilePath>template</FilePath> cÃ²n láº¡i ta cÃ³ thá»ƒ sá»­ dá»¥ng <FilePath>layout</FilePath>.
					<br />
					<br />
					VD: Ä‘á»ƒ tÃ­nh toÃ¡n láº¡i active link á»Ÿ thÃ¬ <FilePath>Header</FilePath> nÃªn Ä‘Æ°á»£c Ä‘áº·t á»Ÿ
					<FilePath>Template</FilePath>
					NhÆ°ng <FilePath>Footer</FilePath> lÃ  má»™t component khÃ´ng cáº§n re-render thÃ¬ sáº½ Ä‘áº·t á»Ÿ
					<FilePath>layout</FilePath>
				</p>
				<!-- END -->
				<doc-next-page :pagination="pagePagination" />
			</div>
			<PageMarkBook />
		</div>
	</div>
</template>
<script lang="ts">
	import PageMarkBook from '@/components/Documentation/PageMarkBook.vue';
	import PageHeading from '@/components/Documentation/PageHeading.vue';
	import FakeTerminalUI from '@/components/FakeTerminalUI.vue';
	import { apiResponde } from '@/models';
	import DocNextPage from '@/components/DocNextPage.vue';
	// @ts-ignore
	import FilePath from '@/components/FilePath.vue';
	import VCodeBlock from '@wdns/vue-code-block';
	export default {
		components: { PageMarkBook, PageHeading, FakeTerminalUI, DocNextPage, FilePath, VCodeBlock },
		data() {
			return {
				pagePagination: {
					next: {
						title: 'HTML Styles',
						link: '/html-css-js-basic/documentation/ep-2',
					},
					prev: {
						title: 'Trá»Ÿ vá» danh sÃ¡ch Doc',
						link: '/html-css-js-basic/documentation',
					},
				},
			};
		},
		mounted() {
			this.getPagination();
		},
		methods: {
			getPagination() {
				this.$api.documentations
					.getPagination({ appIds: 'nextjs-basic', currentDocId: 'nextjs-2' })
					.then((res: apiResponde) => {
						this.pagePagination = res?.data?.pagination || [];
					});
			},
		},
	};
</script>
